{"paragraphs":[{"text":"%md\nPada bagian ini kita akan memperjari bagaimana memanfaatkan Hive untuk melakukan pemeriksaan dan analisa data. Apache Hive adalah software datawarehouse yang berjalan diatas Hadoop platform yang menyediakan fitur untuk melakukan data query, summarization dan analisa. Hive menyediakan interface seperti layaknya SQL pada umumnya, sehingga memudahkan pengguna yang telah terbiasa dengan database untuk terjun menggunakan Hadoop dan Big Data.\nKita akan mempelajari beberapa hal:\n- Membuat eksternal table\n- Melakukan query dan summarization\n- Malakukan join antar table\n- Membuat dan menginsert data ke dalam tabel yang berformat ORC\nDataset yang akan kita gunakan adalah data movielens yang berukuran kecil yang telah kita upload ke dalam HDFS, untuk mengetahui\n1. Film apa saja yang memiliki rating tertinggi\n2. Film apa saja yang paling poluler\nJika belum memiliki dataset yang telah terlupload dalam HDFS bisa melihat artikel sebelumnya.","user":"yava","dateUpdated":"2020-05-05T10:39:51-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>Pada bagian ini kita akan memperjari bagaimana memanfaatkan Hive untuk melakukan pemeriksaan dan analisa data. Apache Hive adalah software datawarehouse yang berjalan diatas Hadoop platform yang menyediakan fitur untuk melakukan data query, summarization dan analisa. Hive menyediakan interface seperti layaknya SQL pada umumnya, sehingga memudahkan pengguna yang telah terbiasa dengan database untuk terjun menggunakan Hadoop dan Big Data.<br/>Kita akan mempelajari beberapa hal:<br/>- Membuat eksternal table<br/>- Melakukan query dan summarization<br/>- Malakukan join antar table<br/>- Membuat dan menginsert data ke dalam tabel yang berformat ORC<br/>Dataset yang akan kita gunakan adalah data movielens yang berukuran kecil yang telah kita upload ke dalam HDFS, untuk mengetahui<br/>1. Film apa saja yang memiliki rating tertinggi<br/>2. Film apa saja yang paling poluler<br/>Jika belum memiliki dataset yang telah terlupload dalam HDFS bisa melihat artikel sebelumnya.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1588688338918_-74448765","id":"20200505-101858_436642046","dateCreated":"2020-05-05T10:18:58-0400","dateStarted":"2020-05-05T10:39:51-0400","dateFinished":"2020-05-05T10:39:51-0400","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:360"},{"text":"%md\n## Langka-langkah\n\n#1. Pastikan dataset movies.cvs telah berada pada direktori movielens/movies dalam HDFS","user":"yava","dateUpdated":"2020-05-08T03:22:35-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Langka-langkah</h2>\n<p>#1. Pastikan dataset movies.cvs telah berada pada direktori movielens/movies dalam HDFS</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1588689694777_-2117570521","id":"20200505-104134_26342905","dateCreated":"2020-05-05T10:41:34-0400","dateStarted":"2020-05-08T03:22:35-0400","dateFinished":"2020-05-08T03:22:39-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:361"},{"text":"hdfs dfs -ls movielens/movies","user":"yava","dateUpdated":"2020-05-03T10:16:38-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/yava/3.0.0.0-0000/hadoop/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/yava/3.0.0.0-0000/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\nFound 1 items\n-rw-r--r--   3 yava hdfs     494431 2020-05-01 12:20 movielens/movies/movies.csv\n"}]},"apps":[],"jobName":"paragraph_1588515359459_1639361176","id":"20200503-101559_322371667","dateCreated":"2020-05-03T10:15:59-0400","dateStarted":"2020-05-03T10:16:38-0400","dateFinished":"2020-05-03T10:16:42-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:362"},{"text":"%md\n#2. Karena kita menggunakan user yava, maka untuk memudahkan akan dibuat database pada Hive yang diberinama yava","user":"yava","dateUpdated":"2020-05-05T10:48:15-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>#2. Karena kita menggunakan user yava, maka untuk memudahkan akan dibuat database pada Hive yang diberinama yava</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1588689804867_591347468","id":"20200505-104324_959929543","dateCreated":"2020-05-05T10:43:24-0400","dateStarted":"2020-05-05T10:48:15-0400","dateFinished":"2020-05-05T10:48:15-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:363"},{"text":"%hive\nshow databases","user":"yava","dateUpdated":"2020-05-03T12:04:57-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"database_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"database_name\ndefault\n"}]},"apps":[],"jobName":"paragraph_1588515383383_642398648","id":"20200503-101623_1912551744","dateCreated":"2020-05-03T10:16:23-0400","dateStarted":"2020-05-03T12:04:58-0400","dateFinished":"2020-05-03T12:04:58-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:364"},{"text":"%hive\ncreate database yava","user":"yava","dateUpdated":"2020-05-03T12:05:10-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1588515429859_-1807972486","id":"20200503-101709_1278482990","dateCreated":"2020-05-03T10:17:09-0400","dateStarted":"2020-05-03T12:05:10-0400","dateFinished":"2020-05-03T12:05:11-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:365"},{"text":"%hive\nuse yava","user":"yava","dateUpdated":"2020-05-03T12:05:26-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1588515475339_-756989307","id":"20200503-101755_784837342","dateCreated":"2020-05-03T10:17:55-0400","dateStarted":"2020-05-03T12:05:26-0400","dateFinished":"2020-05-03T12:05:27-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:366"},{"text":"%md\n#3. Membuat ekternal table bernama movies dengan sumber data movielens/movies/movies.csv","user":"yava","dateUpdated":"2020-05-11T08:21:56-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":false,"tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>#3. Membuat ekternal table bernama movies dengan sumber data movielens/movies/movies.csv</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1588690180397_1740099595","id":"20200505-104940_1962671559","dateCreated":"2020-05-05T10:49:40-0400","dateStarted":"2020-05-05T10:50:57-0400","dateFinished":"2020-05-05T10:50:57-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:367"},{"text":"%hive\nCREATE EXTERNAL TABLE movies(\n    movieId string, \n    title string, \n    genres string)\nROW FORMAT SERDE\n    'org.apache.hadoop.hive.serde2.OpenCSVSerde'\nWITH SERDEPROPERTIES (\n    'separatorChar' = ',',\n    'quoteChar' = '\"',\n    'escapeChar' = '\\\\')\nSTORED AS INPUTFORMAT\n    'org.apache.hadoop.mapred.TextInputFormat'\nOUTPUTFORMAT\n    'org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat'\nLOCATION\n    '/user/yava/movielens/movies'\nTBLPROPERTIES (\n    'serialization.null.format' = '',\n    'skip.header.line.count' = '1')","user":"yava","dateUpdated":"2020-05-03T12:07:40-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1588515486300_-597076396","id":"20200503-101806_487947538","dateCreated":"2020-05-03T10:18:06-0400","dateStarted":"2020-05-03T12:07:40-0400","dateFinished":"2020-05-03T12:07:41-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:368"},{"text":"%md\n#4. Melakukan pemeriksaan pada dataset dengan menggunakan perintah SQL, seperti contoh data dan jumlah record","user":"yava","dateUpdated":"2020-05-05T10:54:00-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>#4. Melakukan pemeriksaan pada dataset dengan menggunakan perintah SQL, seperti contoh data dan jumlah record</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1588690296740_-1695485832","id":"20200505-105136_314230146","dateCreated":"2020-05-05T10:51:36-0400","dateStarted":"2020-05-05T10:54:00-0400","dateFinished":"2020-05-05T10:54:00-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:369"},{"text":"%hive\nselect * from movies limit 10","user":"yava","dateUpdated":"2020-05-03T12:07:47-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"movies.movieid":"string","movies.title":"string","movies.genres":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"movies.movieid\tmovies.title\tmovies.genres\n1\tToy Story (1995)\tAdventure|Animation|Children|Comedy|Fantasy\n2\tJumanji (1995)\tAdventure|Children|Fantasy\n3\tGrumpier Old Men (1995)\tComedy|Romance\n4\tWaiting to Exhale (1995)\tComedy|Drama|Romance\n5\tFather of the Bride Part II (1995)\tComedy\n6\tHeat (1995)\tAction|Crime|Thriller\n7\tSabrina (1995)\tComedy|Romance\n8\tTom and Huck (1995)\tAdventure|Children\n9\tSudden Death (1995)\tAction\n10\tGoldenEye (1995)\tAction|Adventure|Thriller\n"}]},"apps":[],"jobName":"paragraph_1588521949747_-55805333","id":"20200503-120549_1883680010","dateCreated":"2020-05-03T12:05:49-0400","dateStarted":"2020-05-03T12:07:47-0400","dateFinished":"2020-05-03T12:07:48-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:370"},{"text":"%hive\nselect count(*) number_record from movies","user":"yava","dateUpdated":"2020-05-03T12:27:29-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"number_record":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"number_record\n9742\n"}]},"apps":[],"jobName":"paragraph_1588521965859_1800120744","id":"20200503-120605_432843109","dateCreated":"2020-05-03T12:06:05-0400","dateStarted":"2020-05-03T12:27:10-0400","dateFinished":"2020-05-03T12:27:29-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:371"},{"text":"%hive\nSELECT LENGTH(movieId) as len_rec, count(*) as num_rec\nFROM movies\nGROUP BY LENGTH(movieId)","user":"yava","dateUpdated":"2020-05-05T10:56:24-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588690492895_-1954494895","id":"20200505-105452_670182886","dateCreated":"2020-05-05T10:54:52-0400","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:372"},{"text":"%md\n#5. Untuk Membuat eksternal table untuk dataset rating, langkah-langkahnya sebagai berikut\n","user":"yava","dateUpdated":"2020-05-05T11:00:19-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>#5. Untuk Membuat eksternal table untuk dataset rating, langkah-langkahnya sebagai berikut</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1588690626473_-1678294351","id":"20200505-105706_2027410435","dateCreated":"2020-05-05T10:57:06-0400","dateStarted":"2020-05-05T11:00:19-0400","dateFinished":"2020-05-05T11:00:19-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:373"},{"text":"hdfs dfs -mkdir -p movielens/ratings","user":"yava","dateUpdated":"2020-05-05T11:04:46-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh","tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/yava/3.0.0.0-0000/hadoop/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/yava/3.0.0.0-0000/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\n"}]},"apps":[],"jobName":"paragraph_1588523405777_-1424012917","id":"20200503-123005_1224199333","dateCreated":"2020-05-03T12:30:05-0400","dateStarted":"2020-05-03T12:30:54-0400","dateFinished":"2020-05-03T12:30:58-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:374"},{"text":"hdfs dfs -ls dataset","user":"yava","dateUpdated":"2020-05-05T11:04:48-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh","tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/yava/3.0.0.0-0000/hadoop/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/yava/3.0.0.0-0000/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\nFound 4 items\n-rw-r--r--   3 yava hdfs     197979 2020-05-01 12:20 dataset/links.csv\n-rw-r--r--   3 yava hdfs     494431 2020-05-01 12:20 dataset/movies.csv\n-rw-r--r--   3 yava hdfs    2483723 2020-05-01 12:20 dataset/ratings.csv\n-rw-r--r--   3 yava hdfs     118660 2020-05-01 12:20 dataset/tags.csv\n"}]},"apps":[],"jobName":"paragraph_1588523349855_542485421","id":"20200503-122909_849414756","dateCreated":"2020-05-03T12:29:09-0400","dateStarted":"2020-05-03T12:30:16-0400","dateFinished":"2020-05-03T12:30:20-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:375"},{"text":"hdfs dfs -cp dataset/ratings.csv movielens/ratings","user":"yava","dateUpdated":"2020-05-05T11:04:50-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh","tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/yava/3.0.0.0-0000/hadoop/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/yava/3.0.0.0-0000/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\n"}]},"apps":[],"jobName":"paragraph_1588523402707_-808441502","id":"20200503-123002_1850078708","dateCreated":"2020-05-03T12:30:02-0400","dateStarted":"2020-05-03T12:31:37-0400","dateFinished":"2020-05-03T12:31:42-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:376"},{"text":"hdfs dfs -head movielens/ratings/ratings.csv","user":"yava","dateUpdated":"2020-05-05T11:04:52-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh","tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/yava/3.0.0.0-0000/hadoop/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/yava/3.0.0.0-0000/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\nuserId,movieId,rating,timestamp\r\n1,1,4.0,964982703\r\n1,3,4.0,964981247\r\n1,6,4.0,964982224\r\n1,47,5.0,964983815\r\n1,50,5.0,964982931\r\n1,70,3.0,964982400\r\n1,101,5.0,964980868\r\n1,110,4.0,964982176\r\n1,151,5.0,964984041\r\n1,157,5.0,964984100\r\n1,163,5.0,964983650\r\n1,216,5.0,964981208\r\n1,223,3.0,964980985\r\n1,231,5.0,964981179\r\n1,235,4.0,964980908\r\n1,260,5.0,964981680\r\n1,296,3.0,964982967\r\n1,316,3.0,964982310\r\n1,333,5.0,964981179\r\n1,349,4.0,964982563\r\n1,356,4.0,964980962\r\n1,362,5.0,964982588\r\n1,367,4.0,964981710\r\n1,423,3.0,964982363\r\n1,441,4.0,964980868\r\n1,457,5.0,964981909\r\n1,480,4.0,964982346\r\n1,500,3.0,964981208\r\n1,527,5.0,964984002\r\n1,543,4.0,964981179\r\n1,552,4.0,964982653\r\n1,553,5.0,964984153\r\n1,590,4.0,964982546\r\n1,592,4.0,964982271\r\n1,593,4.0,964983793\r\n1,596,5.0,964982838\r\n1,608,5.0,964982931\r\n1,648,3.0,964982563\r\n1,661,5.0,964982838\r\n1,673,3.0,964981775\r\n1,733,4.0,964982400\r\n1,736,3.0,964982653\r\n1,780,3.0,964984086\r\n1,804,4.0,964980499\r\n1,919,5.0,964982475\r\n1,923,5.0,964981529\r\n1,940,5.0,964982176\r\n1,943,4.0,964"}]},"apps":[],"jobName":"paragraph_1588523497897_-306960534","id":"20200503-123137_1098653037","dateCreated":"2020-05-03T12:31:37-0400","dateStarted":"2020-05-03T12:32:03-0400","dateFinished":"2020-05-03T12:32:08-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:377"},{"text":"%hive\nCREATE EXTERNAL TABLE ratings(\n    userId string,\n    movieId string,\n    rating double,\n    times_tamp bigint)\nROW FORMAT SERDE\n    'org.apache.hadoop.hive.serde2.OpenCSVSerde'\nWITH SERDEPROPERTIES (\n    'separatorChar' = ',',\n    'quoteChar' = '\"',\n    'escapeChar' = '\\\\')\nSTORED AS INPUTFORMAT\n    'org.apache.hadoop.mapred.TextInputFormat'\nOUTPUTFORMAT\n    'org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat'\nLOCATION\n    '/user/yava/movielens/ratings'\nTBLPROPERTIES (\n    'serialization.null.format' = '',\n    'skip.header.line.count' = '1')\n\n","user":"yava","dateUpdated":"2020-05-05T11:04:56-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql","tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1588523523120_2114932934","id":"20200503-123203_250885813","dateCreated":"2020-05-03T12:32:03-0400","dateStarted":"2020-05-03T12:34:30-0400","dateFinished":"2020-05-03T12:34:31-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:378"},{"text":"%md\n#6. Melakukan pemeriksaan pada tabel ratings yang baru kita buat","user":"yava","dateUpdated":"2020-05-05T11:05:28-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>#6. Melakukan pemeriksaan pada tabel ratings yang baru kita buat</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1588691079403_282063375","id":"20200505-110439_697692111","dateCreated":"2020-05-05T11:04:39-0400","dateStarted":"2020-05-05T11:05:28-0400","dateFinished":"2020-05-05T11:05:28-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:379"},{"text":"%hive\nshow tables","user":"yava","dateUpdated":"2020-05-05T11:02:31-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tab_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql","tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"tab_name\nmovies\n"}]},"apps":[],"jobName":"paragraph_1588515615212_1166715937","id":"20200503-102015_845378301","dateCreated":"2020-05-03T10:20:15-0400","dateStarted":"2020-05-03T12:07:44-0400","dateFinished":"2020-05-03T12:07:45-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:380"},{"text":"%hive\nselect * from ratings limit 10","user":"yava","dateUpdated":"2020-05-03T12:34:56-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"ratings.userid":"string","ratings.movieid":"string","ratings.rating":"string","ratings.times_tamp":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"ratings.userid\tratings.movieid\tratings.rating\tratings.times_tamp\n1\t1\t4.0\t964982703\n1\t3\t4.0\t964981247\n1\t6\t4.0\t964982224\n1\t47\t5.0\t964983815\n1\t50\t5.0\t964982931\n1\t70\t3.0\t964982400\n1\t101\t5.0\t964980868\n1\t110\t4.0\t964982176\n1\t151\t5.0\t964984041\n1\t157\t5.0\t964984100\n"}]},"apps":[],"jobName":"paragraph_1588523690301_-526467476","id":"20200503-123450_488447447","dateCreated":"2020-05-03T12:34:50-0400","dateStarted":"2020-05-03T12:34:55-0400","dateFinished":"2020-05-03T12:34:56-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:381"},{"text":"%hive\nselect count(*) num_record from ratings","user":"yava","dateUpdated":"2020-05-03T12:36:32-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"num_record":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"num_record\n100836\n"}]},"apps":[],"jobName":"paragraph_1588523757607_584359932","id":"20200503-123557_1891226676","dateCreated":"2020-05-03T12:35:57-0400","dateStarted":"2020-05-03T12:36:14-0400","dateFinished":"2020-05-03T12:36:31-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:382"},{"text":"%md\n#7. Mencari film dengan rating tertinggi dengan cara melakukan join antara table movie dan ratings","user":"yava","dateUpdated":"2020-05-05T11:11:11-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>#7. Mencari film dengan rating tertinggi dengan cara melakukan join antara table movie dan ratings</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1588691333489_-1755501552","id":"20200505-110853_932052993","dateCreated":"2020-05-05T11:08:53-0400","dateStarted":"2020-05-05T11:11:11-0400","dateFinished":"2020-05-05T11:11:11-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:383"},{"title":"Top Rating Movie","text":"%hive\nSELECT t2.movieid movieId, t2.title title, avg(t1.rating) avg_rating from ratings t1 left join movies t2 on t1.movieid = t2.movieid group by t2.movieid, t2.title\norder by avg_rating desc\nlimit 10","user":"yava","dateUpdated":"2020-05-03T12:45:42-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{"columns":[{"name":"movieid","visible":true,"width":150,"sort":{},"filters":[{}],"pinned":""},{"name":"title","visible":true,"width":472,"sort":{},"filters":[{}],"pinned":""},{"name":"avg_rating","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""}],"scrollFocus":{},"selection":[],"grouping":{"grouping":[],"aggregations":[],"rowExpandedStates":{}},"treeView":{},"pagination":{"paginationCurrentPage":1,"paginationPageSize":250}},"tableColumnTypeState":{"names":{"movieid":"string","title":"string","avg_rating":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"movieid\ttitle\tavg_rating\n100556\tAct of Killing, The (2012)\t5.0\n96832\tHoly Motors (2012)\t5.0\n115727\tCrippled Avengers (Can que) (Return of the 5 Deadly Venoms) (1981)\t5.0\n108078\tChinese Puzzle (Casse-tête chinois) (2013)\t5.0\n104780\tMystery of the Third Planet, The (Tayna tretey planety) (1981)\t5.0\n113829\tOne I Love, The (2014)\t5.0\n114265\tLaggies (2014)\t5.0\n99636\tEnglish Vinglish (2012)\t5.0\n108795\tWonder Woman (2009)\t5.0\n109633\tGarden of Words, The (Koto no ha no niwa) (2013)\t5.0\n"}]},"apps":[],"jobName":"paragraph_1588523814917_-1321575202","id":"20200503-123654_551469105","dateCreated":"2020-05-03T12:36:54-0400","dateStarted":"2020-05-03T12:41:49-0400","dateFinished":"2020-05-03T12:42:17-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:384"},{"text":"%md\n#8. Membuat table baru hasil join antara movie dan ratings, yang diberi name movie_stat. Format file yang digunakan adalah ORC. ","user":"yava","dateUpdated":"2020-05-05T11:23:50-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>#8. Membuat table baru hasil join antara movie dan ratings, yang diberi name movie_stat. Format file yang digunakan adalah ORC.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1588692100812_609646496","id":"20200505-112140_2145939486","dateCreated":"2020-05-05T11:21:40-0400","dateStarted":"2020-05-05T11:23:50-0400","dateFinished":"2020-05-05T11:23:50-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:385"},{"text":"%hive\nCREATE TABLE IF NOT EXISTS movies_stat ( \n    movieid string, \n    title string,\n    avg_rating double, \n    num_views int,\n    genres string)\nCOMMENT 'Movie Info'\nSTORED AS ORC","user":"yava","dateUpdated":"2020-05-05T11:24:56-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1588525737428_296593835","id":"20200503-130857_1652203959","dateCreated":"2020-05-03T13:08:57-0400","dateStarted":"2020-05-03T13:28:11-0400","dateFinished":"2020-05-03T13:28:12-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:386"},{"text":"%md\n#9. Mencari film yang terpopuler berdasarkan jumlah view","user":"yava","dateUpdated":"2020-05-05T11:26:03-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>#9. Mencari film yang terpopuler berdasarkan jumlah view</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1588692309405_-1177233114","id":"20200505-112509_108683567","dateCreated":"2020-05-05T11:25:09-0400","dateStarted":"2020-05-05T11:26:03-0400","dateFinished":"2020-05-05T11:26:03-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:387"},{"text":"%hive\nSELECT movieid, title, num_views FROM movies_stat\nORDER BY num_views DESC\nLIMIT 10","user":"yava","dateUpdated":"2020-05-05T11:27:22-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588692366952_-817779673","id":"20200505-112606_1221080800","dateCreated":"2020-05-05T11:26:06-0400","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:388"},{"text":"%md\n#10. Mencari film yang tidak populer","user":"yava","dateUpdated":"2020-05-05T11:28:45-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>#10. Mencari film yang tidak populer</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1588692465145_766520277","id":"20200505-112745_360964325","dateCreated":"2020-05-05T11:27:45-0400","dateStarted":"2020-05-05T11:28:45-0400","dateFinished":"2020-05-05T11:28:45-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:389"},{"text":"%hive\nSELECT movieid, title, num_views FROM movies_stat\nORDER BY num_views ASC\nLIMIT 10","user":"yava","dateUpdated":"2020-05-05T11:29:00-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"database_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql","tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"database_name\ndefault\nyava\n"}]},"apps":[],"jobName":"paragraph_1588521918360_-1642666431","id":"20200503-120518_1238946864","dateCreated":"2020-05-03T12:05:18-0400","dateStarted":"2020-05-03T12:05:23-0400","dateFinished":"2020-05-03T12:05:24-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:390"},{"text":"%hive\n","user":"yava","dateUpdated":"2020-05-05T11:29:00-0400","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588692540390_-2063821857","id":"20200505-112900_1175208773","dateCreated":"2020-05-05T11:29:00-0400","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:391"}],"name":"3. Analyzing MovieLens Dataset Using Hive","id":"2F8BXZJEG","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"hive:yava:":[],"sh:yava:":[],"spark:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}